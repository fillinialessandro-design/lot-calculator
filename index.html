<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Lot Calculator PRO – Multi Account (MT4)</title>

<style>
body{margin:0;font-family:system-ui;background:#0b1220;color:#e5e7eb}
.wrap{max-width:800px;margin:auto;padding:16px}
.card{background:#111b2e;border-radius:16px;padding:14px;margin-bottom:14px}
h1,h2{margin:0 0 10px}
label{font-size:12px;color:#94a3b8}
input,select{width:100%;padding:12px;border-radius:12px;border:1px solid #1f2a44;background:#0f172a;color:#fff;font-size:16px}
.row{display:grid;gap:10px}
@media(min-width:600px){.two{grid-template-columns:1fr 1fr}}
button{width:100%;padding:14px;border-radius:14px;border:0;background:#2563eb;color:#fff;font-weight:800;font-size:16px}
.result{margin-top:10px;padding:12px;border-radius:12px;background:#052e16;border:1px solid #22c55e}
.result input{background:#022c22;border-color:#22c55e;font-size:20px;text-align:center;font-weight:900}
.sub{font-size:12px;color:#94a3b8}
</style>
</head>

<body>
<div class="wrap">

<h1>Lot Calculator PRO – Doppio Conto (MT4)</h1>
<div class="sub">Stesso trade • due conti • due lotti separati</div>

<!-- TRADE COMUNE -->
<div class="card">
<h2>Trade (comune)</h2>
<div class="row two">
<div>
<label>Pair</label>
<select id="pair">
<option>XAUUSD</option>
<option>USDJPY</option>
<option>GBPJPY</option>
</select>
</div>
<div>
<label>Risk %</label>
<input id="risk" value="1">
</div>
</div>

<div class="row two">
<div>
<label>Entry</label>
<input id="entry">
</div>
<div>
<label>Stop</label>
<input id="stop">
</div>
</div>
</div>

<!-- CONTO A -->
<div class="card">
<h2>Conto A</h2>
<div class="row two">
<div>
<label>Balance A</label>
<input id="balA" value="150">
</div>
<div>
<label>Valuta A</label>
<select id="ccyA">
<option>EUR</option>
<option>USD</option>
</select>
</div>
</div>

<div class="result">
<label>Lotto Conto A</label>
<input id="lotA" readonly value="—">
</div>
</div>

<!-- CONTO B -->
<div class="card">
<h2>Conto B</h2>
<div class="row two">
<div>
<label>Balance B</label>
<input id="balB" value="300">
</div>
<div>
<label>Valuta B</label>
<select id="ccyB">
<option>EUR</option>
<option>USD</option>
</select>
</div>
</div>

<div class="result">
<label>Lotto Conto B</label>
<input id="lotB" readonly value="—">
</div>
</div>

<button onclick="calc()">Calcola</button>

</div>

<script>
function n(v){return Number(String(v).replace(",","."))}
function calcLot(balance,risk,entry,stop){
 const dist=Math.abs(entry-stop)
 const pipSize=0.01
 const pips=dist/pipSize
 const pipVal=1 // XAUUSD 1$ per 0.01 per lot
 return (balance*(risk/100))/(pips*pipVal)
}

function calc(){
 const entry=n(entryEl.value)
 const stop=n(stopEl.value)
 const risk=n(riskEl.value)

 const lotA=calcLot(n(balA.value),risk,entry,stop)
 const lotB=calcLot(n(balB.value),risk,entry,stop)

 lotAEl.value=lotA.toFixed(2)
 lotBEl.value=lotB.toFixed(2)
}

const entryEl=document.getElementById("entry")
const stopEl=document.getElementById("stop")
const riskEl=document.getElementById("risk")
const balA=document.getElementById("balA")
const balB=document.getElementById("balB")
const lotAEl=document.getElementById("lotA")
const lotBEl=document.getElementById("lotB")
</script>

</body>
</html>
